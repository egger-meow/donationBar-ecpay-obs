# ============================================
# DonationBar ECPay OBS - Environment Config
# Multi-User Branch
# ============================================
# Copy this file to .env and fill in your values
# cp .env.example .env

# ============================================
# SERVER CONFIGURATION
# ============================================
PORT=3000
NODE_ENV=development
# Options: sandbox, production
ENVIRONMENT=sandbox
# Base URL for callbacks (required for production)
BASE_URL=http://localhost:3000

# ============================================
# SESSION & SECURITY
# ============================================
# IMPORTANT: Change this to a random secure string in production!
SESSION_SECRET=your-super-secret-session-key-change-me

# ============================================
# DATABASE (PostgreSQL)
# ============================================
# Required for production mode
# Leave empty to use local db.json file (sandbox mode)
DATABASE_URL=

# ============================================
# GOOGLE OAUTH (Required for authentication)
# ============================================
# Get credentials from: https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_CALLBACK_URL=http://localhost:3000/api/auth/google/callback

# ============================================
# ECPAY CREDENTIALS (Legacy/Fallback)
# ============================================
# These are used as fallback if not configured in database
# For multi-user, credentials are stored per-workspace in database
MERCHANT_ID=
HASH_KEY=
HASH_IV=

# ============================================
# SUBSCRIPTION SETTINGS
# ============================================
# Trial period in days (default: 30)
SUBSCRIPTION_TRIAL_DAYS=30
# Monthly subscription price in TWD (default: 70)
SUBSCRIPTION_MONTHLY_PRICE=70

# ============================================
# EMAIL / SMTP (Optional)
# ============================================
# For sending welcome emails and notifications
# Leave empty to disable email features
SMTP_HOST=
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=
SMTP_PASS=
EMAIL_FROM=noreply@yourdomain.com

# ============================================
# MIGRATION ADMIN (Used only during migration)
# ============================================
# These are used when running migrations/migrate.js
# to create the initial admin user
ADMIN_EMAIL=admin@localhost
ADMIN_USERNAME=admin
ADMIN_PASSWORD=changeme123
ADMIN_DISPLAY_NAME=Administrator
